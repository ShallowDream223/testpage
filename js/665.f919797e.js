"use strict";(self["webpackChunkonline_exam_system"]=self["webpackChunkonline_exam_system"]||[]).push([[665],{7665:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("div",{staticClass:"main"},[t("div",{staticClass:"mainhead"},[t("div",{staticClass:"headbut"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.increase}},[e._v("添加")]),e._v("  "),t("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right",size:"small"},on:{click:e.refresh}},[e._v("刷新")])],1),t("div",{staticClass:"headform"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:"考试名称"}},[t("el-input",{attrs:{placeholder:"请输入考试名称"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),t("el-form-item",{attrs:{label:"更新时间"}},[t("el-input",{attrs:{placeholder:"请输入更新时间"},model:{value:e.formInline.oldTime,callback:function(t){e.$set(e.formInline,"oldTime",t)},expression:"formInline.oldTime"}})],1),t("el-form-item",{attrs:{label:"考试时长"}},[t("el-input",{attrs:{placeholder:"请输入考试时长"},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.onSubmit}})],1)],1)],1)]),t("el-dialog",{attrs:{title:"创建考试",visible:e.dialogVisible,width:"35%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"step"},[t("el-steps",{attrs:{active:e.active,"finish-status":"success"}},[t("el-step",{attrs:{title:"考试描述",icon:"el-icon-edit"}}),t("el-step",{attrs:{title:"选择题目",icon:"el-icon-upload"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.oneform,expression:"oneform"}],staticClass:"oneform"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"考试名称",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"考试班级",prop:"cover"}},[t("el-select",{attrs:{placeholder:"请输入考试班级"},model:{value:e.ruleForm.cover,callback:function(t){e.$set(e.ruleForm,"cover",t)},expression:"ruleForm.cover"}},[t("el-option",{attrs:{label:"一班",value:"first"}}),t("el-option",{attrs:{label:"二班",value:"two"}}),t("el-option",{attrs:{label:"三班",value:"three"}})],1)],1),t("el-form-item",{attrs:{label:"考试开始时间",required:""}},[t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{prop:"date1"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date1,callback:function(t){e.$set(e.ruleForm,"date1",t)},expression:"ruleForm.date1"}})],1)],1)],1),t("el-form-item",{attrs:{label:"考试结束时间",required:""}},[t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{prop:"date2"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date2,callback:function(t){e.$set(e.ruleForm,"date2",t)},expression:"ruleForm.date2"}})],1)],1)],1),t("el-form-item",{attrs:{label:"考试时间",prop:"duration"}},[t("el-input-number",{staticStyle:{width:"120px"},attrs:{"controls-position":"right"},on:{change:e.handleChange},model:{value:e.ruleForm.duration,callback:function(t){e.$set(e.ruleForm,"duration",e._n(t))},expression:"ruleForm.duration"}}),t("span",[e._v("  分钟")])],1),t("el-form-item",{attrs:{label:"考试描述",prop:"desc"}},[t("el-input",{attrs:{type:"textarea",maxlength:"100","show-word-limit":""},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),t("el-form-item",[t("div",{staticClass:"onebutton"},[t("el-button",{staticStyle:{"margin-top":"12px"},attrs:{type:"primary"},on:{click:function(t){return e.next("ruleForm")}}},[e._v("下一步")]),t("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("取消")])],1)])],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.twoform,expression:"twoform"}]},[t("div",{staticClass:"twoform"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"题型"}},[t("el-select",{staticStyle:{width:"94%"},attrs:{placeholder:"请选择题型"},on:{change:e.change},model:{value:e.form.questionType,callback:function(t){e.$set(e.form,"questionType",t)},expression:"form.questionType"}},[t("el-option",{attrs:{label:"java基础",value:"1"}}),t("el-option",{attrs:{label:"javascript",value:"2"}})],1)],1)],1)],1),t("div",{staticClass:"onetable"},[t("el-table",{attrs:{data:e.tableDataTwo,border:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"subject",label:"题目",width:"370"}}),t("el-table-column",{attrs:{prop:"score",label:"分值（分）"}})],1)],1),t("div",{staticClass:"but"},[t("el-button",{staticStyle:{"margin-top":"12px"},on:{click:e.previous}},[e._v("上一步")]),t("el-button",{staticStyle:{"margin-top":"12px"},on:{click:function(t){return e.toggleSelection(e.tableDataTwo)}}},[e._v("立即创建")]),t("el-button",{attrs:{type:"primary"},on:{click:e.remove}},[e._v("取消")])],1)])]),t("div",{staticClass:"twotables"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),border:""}},[t("el-table-column",{attrs:{prop:"date",label:"序号",width:"50","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),t("el-table-column",{attrs:{prop:"score",label:"总分数",width:"70"}}),t("el-table-column",{attrs:{prop:"creator",label:"创建人",width:"80"}}),t("el-table-column",{attrs:{prop:"duration",label:"考试时长",width:"80"}}),t("el-table-column",{attrs:{prop:"updateTime",label:"更新时间","min-width":"180"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"180"}}),t("el-table-column",{attrs:{label:"操作",width:"221",fixed:"right",prop:"action",align:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.examDetail}},[e._v("详情")]),t("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("编辑")]),t("el-dialog",{attrs:{title:"更新考试",visible:e.threeform,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.threeform=t}}},[t("el-form",{ref:"tableform",staticClass:"demo-ruleForm",attrs:{model:e.tableform,rules:e.rule,"label-width":"110px"}},[t("el-form-item",{staticStyle:{width:"87%"},attrs:{label:"考试名称",prop:"name"}},[t("el-input",{model:{value:e.tableform.name,callback:function(t){e.$set(e.tableform,"name",t)},expression:"tableform.name"}})],1),t("el-form-item",{attrs:{label:"考试开始时间",required:""}},[t("el-col",{attrs:{span:20}},[t("el-form-item",{attrs:{prop:"data3"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.tableform.createTime,callback:function(t){e.$set(e.tableform,"createTime",t)},expression:"tableform.createTime"}})],1)],1)],1),t("el-form-item",{attrs:{label:"考试结束时间",required:""}},[t("el-col",{attrs:{span:20}},[t("el-form-item",{attrs:{prop:"data4"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.tableform.changeTime,callback:function(t){e.$set(e.tableform,"changeTime",t)},expression:"tableform.changeTime"}})],1)],1)],1),t("el-form-item",{attrs:{label:"考试时间",prop:"duration"}},[t("el-input",{staticStyle:{width:"80px"},attrs:{type:"input"},model:{value:e.tableform.duration,callback:function(t){e.$set(e.tableform,"duration",t)},expression:"tableform.duration"}}),t("span",[e._v("  分钟")])],1),t("el-form-item",{attrs:{label:"考试描述",prop:"desc"}},[t("el-input",{staticStyle:{width:"87%"},attrs:{type:"textarea"},model:{value:e.tableform.desc,callback:function(t){e.$set(e.tableform,"desc",t)},expression:"tableform.desc"}})],1)],1),t("div",{staticClass:"nut"},[t("el-button",{attrs:{type:"primary"},on:{click:e.sure}},[e._v("确定")]),t("el-button",{attrs:{type:"primary"},on:{click:e.calloff}},[e._v("取消")])],1)],1),t("el-button",{staticClass:"delete",attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(a.$index,a.row)}}},[e._v("删除")])]}}])},[t("template",{slot:"header"},[t("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],2)],1),t("div",{staticClass:"page"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])],1)],1)},r=[],o=(a(7658),{components:{},data(){return{dialogVisible:!1,active:0,innerVisible:!1,oneform:!0,twoform:!1,threeform:!1,pageSizes:[10,20,30,40],pageSize:10,currentPage:1,totalCount:200,tableData:[{date:"01",name:"Java基础",score:"120",creator:"段瑞春",duration:"90",changeTime:"2022-10-11",createTime:"2022-10-13"}],tableDataTwo:[{subject:"java简介",score:"1"},{subject:"JavaScript简介",score:"2"}],ruleForm:{name:"",cover:"",date1:"",date2:"",duration:"",desc:""},rules:{name:[{required:!0,message:"请输入考试名称",trigger:"blur"}],cover:[{required:!0,message:"请选择班级",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],desc:[{required:!0,message:"请填写考试描述",trigger:"blur"}],duration:[{required:!0,message:"请填写考试时间",trigger:"blur"}]},tableform:{name:"",changeTime:"",createTime:"",duration:"",desc:""},rule:{name:[{required:!0,message:"请输入考试名称",trigger:"blur"}],changeTime:[{required:!0,message:"请选择时间",trigger:"change"}],createTime:[{required:!0,message:"请选择时间",trigger:"change"}],duration:[{required:!0,message:"请填写考试时间",trigger:"blur"}],desc:[{required:!0,message:"请填写考试描述",trigger:"blur"}]},form:{questionType:""},formInline:{name:"",oldTime:"",time:""},selectionData:[]}},methods:{increase(){this.ruleForm={},this.active=0,0!=this.oneform&&1!=this.twoform||(this.oneform=!0,this.twoform=!1),this.dialogVisible=!0},refresh(){window.location.reload()},handleChange(e){console.log(e)},next(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("请完善信息"),!1;this.$message({message:"信息填写成功",type:"success"}),this.active++>2&&(this.active=0),this.oneform=!1,this.twoform=!0}))},cancel(){this.$refs.ruleForm.resetFields(),this.dialogVisible=!1},change(e){console.log(e)},handleSelectionChange(e){console.log(e),this.selectionData=e},previous(){this.active--<=0&&(this.active=0),this.oneform=!0,this.twoform=!1},toggleSelection(e){console.log(this.form,"===",this.ruleForm),console.log(e),this.dialogVisible=!1},remove(){this.$refs.ruleForm.resetFields(),this.$refs.form.resetFields(),this.dialogVisible=!1},handleClose(e){this.$confirm("确认关闭？").then((t=>{this.$refs.ruleForm.resetFields(),e()})).catch((e=>{}))},examDetail(){this.$router.push("/examdetail")},handleEdit(e,t){console.log(e),console.log(t),this.threeform=!0,this.tableform=t},sure(){this.threeform=!1},calloff(){this.threeform=!1},onSubmit(){console.log("submit!")},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},resetForm(e){this.$refs[e].resetFields()},handleDelete(e,t){console.log(e,t)},handleSizeChange(e){this.pageSize=e,this.currentPage=1},handleCurrentChange(e){this.currentPage=e}},created(){textFunApi().then((e=>{console.log(e.data.table),this.totalCount=e.data.table.length,this.tableData=e.data.table}))}}),i=o,s=a(1001),n=(0,s.Z)(i,l,r,!1,null,"571afbb2",null),c=n.exports}}]);
//# sourceMappingURL=665.f919797e.js.map